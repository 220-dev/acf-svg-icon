(function($){function initialize_field($field){var input=$field.find('.acf-input input');var allowClear=$(input).attr('data-allow-clear')||0;var opts={dropdownCssClass:"bigdrop widefat",dropdownAutoWidth:!0,formatResult:svg_icon_format,formatSelection:svg_icon_format_small,data:{results:svg_icon_format_data},allowClear:1==allowClear};input.select2(opts);async function fetchSvg(url,id,text){var req=await fetch(url);var svg=await req.text();$('span[data-id="'+id+'"]').html(svg+text)};function svg_icon_format(css){if(!css.id){return css.text};if(css.url){fetchSvg(css.url,css.id,css.text);return $('<span class="acf_svg__icon icon" data-id="'+css.id+'">'+css.text+'</span>')}else{return $('<svg class="acf_svg__icon icon '+css.id+'" aria-hidden="true" role="img"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#'+css.id+'"></use></svg>'+css.text)}};function svg_icon_format_small(css){if(!css.id){return css.text};if(css.url){fetchSvg(css.url,css.id,css.text);return $('<span class="acf_svg__icon icon" data-id="'+css.id+'">'+css.text+'</span>')}else{return $('<svg class="acf_svg__icon icon '+css.id+'" aria-hidden="true" role="img"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#'+css.id+'"></use></svg>'+css.text)}}};acf.add_action('ready append',function(jQueryel){acf.get_fields({type:'svg_icon'},jQueryel).each(function(){initialize_field($(this))})})})(jQuery);